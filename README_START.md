# Пошаговая инструкция по запуску проекта

## Вариант 1: Режим разработки (Dev)

Для разработки нужно запустить **два сервера**:

### Шаг 1: Запустить API сервер
Откройте **первый терминал** и выполните:
```bash
cd /Users/maksimizrailev/Documents/hexlet_studying/frontend-project-12
npx @hexlet/chat-server
```
Сервер запустится на порту **5001** и будет обслуживать API.
**Важно**: Оставьте этот терминал открытым!

### Шаг 2: Запустить фронтенд (dev-режим)
Откройте **второй терминал** (новый!) и выполните:
```bash
cd /Users/maksimizrailev/Documents/hexlet_studying/frontend-project-12/frontend
npm run dev
```
Фронтенд запустится на порту **5002** с автоматическим proxy на API сервер.
**Важно**: Оставьте этот терминал открытым!

### Шаг 3: Открыть в браузере
Откройте браузер и перейдите на: **http://localhost:5002**

### Проверка работы:
1. Откройте консоль браузера (F12)
2. Проверьте, что нет ошибок "Неверный формат данных"
3. Попробуйте открыть `http://localhost:5002/api/channels` - должен вернуться JSON с каналами

---

## Вариант 2: Продакшен режим (Production)

Для продакшена достаточно **одного сервера**:

### Шаг 1: Собрать проект
```bash
cd /Users/maksimizrailev/Documents/hexlet_studying/frontend-project-12
make build
```

### Шаг 2: Запустить сервер
```bash
make start
```
Сервер запустится на порту **5001** и будет обслуживать:
- Статические файлы (собранный фронтенд)
- API

### Шаг 3: Открыть в браузере
Откройте браузер и перейдите на: **http://localhost:5001**

---

## Проверка работы

1. **Проверьте API**: 
   - В dev-режиме: откройте `http://localhost:5002/api/channels` (proxy перепишет на `/api/v1/channels`)
   - В продакшене: откройте `http://localhost:5001/api/v1/channels`
   - Должен вернуться JSON с массивом каналов
   - Если возвращается HTML - API сервер не запущен

2. **Проверьте консоль браузера**:
   - Не должно быть ошибок "Неверный формат данных"
   - Не должно быть ошибок сети

3. **Проверьте модальные окна**:
   - Клик на затемненную область закрывает модальное окно
   - Клик внутри модального окна НЕ закрывает его
   - Кнопка "X" закрывает модальное окно

---

## Частые проблемы

### Ошибка "Неверный формат данных от сервера"
**Причина**: API сервер не запущен или недоступен

**Решение**:
- В dev-режиме: убедитесь, что запущен `npx @hexlet/chat-server` на порту 5001
- В продакшене: убедитесь, что запущен `make start`

### Модальное окно закрывается при любом клике
**Причина**: Неправильная обработка событий клика

**Решение**: Уже исправлено в коде - модальное окно закрывается только при клике на backdrop, но не при клике внутри модального окна.

### Порт уже занят
**Причина**: Другой процесс использует порт 5001 или 5002

**Решение**: 
- Остановите другие процессы на этих портах
- Или измените порты в конфигурации


